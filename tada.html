<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天赋罗盘 - 个人潜能发展导航系统</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Noto+Sans+SC:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --deep-space: #0a0e1a;
            --cosmos-blue: #0d1b2a;
            --nebula-purple: #1b263b;
            --aurora-teal: #00d4aa;
            --bio-green: #4ade80;
            --energy-orange: #f59e0b;
            --plasma-pink: #ec4899;
            --data-white: #f0f4f8;
            --star-gold: #fbbf24;
            --neural-blue: #3b82f6;
            --glass-white: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --gradient-aurora: linear-gradient(135deg, #00d4aa 0%, #3b82f6 50%, #ec4899 100%);
            --gradient-cosmos: radial-gradient(ellipse at center, #1b263b 0%, #0a0e1a 100%);
        }

        .light {
            --deep-space: #f8fafc;
            --cosmos-blue: #e2e8f0;
            --nebula-purple: #cbd5e1;
            --glass-white: rgba(0, 0, 0, 0.03);
            --glass-border: rgba(0, 0, 0, 0.08);
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-muted: #64748b;
            --gradient-cosmos: radial-gradient(ellipse at center, #e2e8f0 0%, #f8fafc 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: var(--deep-space);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* Cosmic Background */
        .cosmic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-cosmos);
            z-index: -2;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite ease-in-out;
        }

        .light .star {
            background: var(--neural-blue);
            opacity: 0.3;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 1rem 2rem;
            background: rgba(10, 14, 26, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .light nav {
            background: rgba(248, 250, 252, 0.9);
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-family: 'Noto Serif SC', serif;
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-aurora);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            position: relative;
        }

        .logo-icon::before {
            content: '';
            position: absolute;
            inset: 0;
            border: 2px solid var(--aurora-teal);
            border-radius: 50%;
            animation: pulse-ring 2s infinite;
        }

        .logo-icon::after {
            content: '';
            position: absolute;
            inset: 8px;
            background: var(--gradient-aurora);
            border-radius: 50%;
        }

        @keyframes pulse-ring {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.5; }
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--aurora-teal);
            transition: width 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--aurora-teal);
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-cta {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: inherit;
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--glass-border);
        }

        .btn-ghost:hover {
            background: var(--glass-white);
            color: var(--text-primary);
        }

        .btn-primary {
            background: var(--gradient-aurora);
            color: #0a0e1a;
            font-weight: 600;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(0, 212, 170, 0.3);
        }

        .btn-secondary {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--aurora-teal);
            color: #0a0e1a;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 6rem 2rem 4rem;
            position: relative;
        }

        .hero-content {
            max-width: 1400px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text {
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 50px;
            font-size: 0.85rem;
            color: var(--aurora-teal);
            margin-bottom: 1.5rem;
        }

        .hero-badge i {
            animation: spin 10s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .hero-title {
            font-family: 'Noto Serif SC', serif;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1.5rem;
        }

        .hero-title .highlight {
            background: var(--gradient-aurora);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 500px;
        }

        .hero-stats {
            display: flex;
            gap: 3rem;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
        }

        .stat-item {
            text-align: left;
        }

        .stat-number {
            font-family: 'Noto Serif SC', serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--aurora-teal);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Compass Visualization */
        .compass-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            max-width: 550px;
            margin: 0 auto;
            animation: fadeInUp 1s ease-out 0.3s backwards;
        }

        .compass-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .compass-ring {
            position: absolute;
            border-radius: 50%;
            border: 1px solid var(--glass-border);
            animation: rotate 60s linear infinite;
        }

        .compass-ring.outer {
            inset: 0;
            border-width: 2px;
            border-style: dashed;
            animation-duration: 120s;
        }

        .compass-ring.middle {
            inset: 15%;
            animation-direction: reverse;
            animation-duration: 90s;
        }

        .compass-ring.inner {
            inset: 30%;
            animation-duration: 60s;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .compass-center {
            position: absolute;
            inset: 40%;
            background: var(--gradient-aurora);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 60px rgba(0, 212, 170, 0.4);
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 60px rgba(0, 212, 170, 0.4); }
            50% { box-shadow: 0 0 100px rgba(0, 212, 170, 0.6); }
        }

        .compass-center-text {
            font-family: 'Noto Serif SC', serif;
            font-size: 1rem;
            font-weight: 700;
            color: #0a0e1a;
            text-align: center;
        }

        /* Theory Planets */
        .theory-planet {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .theory-planet:hover {
            transform: scale(1.2);
            z-index: 20;
        }

        .theory-planet::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            border: 2px solid currentColor;
            opacity: 0.3;
        }

        .theory-planet i {
            font-size: 1.25rem;
            color: white;
        }

        .planet-gallup { top: 5%; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #f59e0b, #fbbf24); color: #f59e0b; }
        .planet-jung { top: 25%; right: 5%; background: linear-gradient(135deg, #8b5cf6, #a78bfa); color: #8b5cf6; }
        .planet-mi { top: 60%; right: 0; background: linear-gradient(135deg, #3b82f6, #60a5fa); color: #3b82f6; }
        .planet-holland { bottom: 10%; right: 25%; background: linear-gradient(135deg, #10b981, #34d399); color: #10b981; }
        .planet-flow { bottom: 10%; left: 25%; background: linear-gradient(135deg, #ec4899, #f472b6); color: #ec4899; }
        .planet-cognitive { top: 60%; left: 0; background: linear-gradient(135deg, #06b6d4, #22d3ee); color: #06b6d4; }
        .planet-big5 { top: 25%; left: 5%; background: linear-gradient(135deg, #ef4444, #f87171); color: #ef4444; }

        /* Connection Lines */
        .connection-lines svg {
            width: 100%;
            height: 100%;
            position: absolute;
            inset: 0;
        }

        .connection-line {
            stroke: var(--aurora-teal);
            stroke-width: 1;
            fill: none;
            opacity: 0.2;
            stroke-dasharray: 5 5;
            animation: dash 20s linear infinite;
        }

        @keyframes dash {
            to { stroke-dashoffset: -100; }
        }

        /* Planet Tooltip */
        .planet-tooltip {
            position: absolute;
            background: rgba(10, 14, 26, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1rem;
            min-width: 200px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 100;
            pointer-events: none;
        }

        .light .planet-tooltip {
            background: rgba(255, 255, 255, 0.95);
        }

        .theory-planet:hover .planet-tooltip {
            opacity: 1;
            visibility: visible;
        }

        .tooltip-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tooltip-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* Assessment Panel */
        .assessment-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--deep-space);
            z-index: 2000;
            display: none;
            overflow-y: auto;
        }

        .assessment-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .assessment-header {
            position: sticky;
            top: 0;
            background: rgba(10, 14, 26, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 1rem 2rem;
            z-index: 100;
        }

        .light .assessment-header {
            background: rgba(248, 250, 252, 0.95);
        }

        .assessment-header-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .assessment-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .assessment-close:hover {
            color: var(--text-primary);
        }

        .progress-container {
            flex: 1;
            max-width: 400px;
            margin: 0 2rem;
        }

        .progress-bar {
            height: 8px;
            background: var(--glass-white);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-aurora);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
            text-align: center;
        }

        .assessment-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem 2rem;
            min-height: calc(100vh - 100px);
            display: flex;
            flex-direction: column;
        }

        /* Question Styles */
        .question-container {
            flex: 1;
            display: none;
            animation: slideIn 0.5s ease;
        }

        .question-container.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question-header {
            margin-bottom: 2rem;
        }

        .question-theory {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            margin-bottom: 1rem;
        }

        .question-theory.gallup { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
        .question-theory.jung { background: rgba(139, 92, 246, 0.2); color: #a78bfa; }
        .question-theory.big5 { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .question-theory.mi { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .question-theory.holland { background: rgba(16, 185, 129, 0.2); color: #34d399; }
        .question-theory.flow { background: rgba(236, 72, 153, 0.2); color: #f472b6; }
        .question-theory.cognitive { background: rgba(6, 182, 212, 0.2); color: #22d3ee; }

        .question-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .question-desc {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        /* Ranking Question */
        .ranking-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .ranking-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            cursor: grab;
            transition: all 0.3s ease;
            user-select: none;
        }

        .ranking-item:hover {
            border-color: var(--aurora-teal);
            background: rgba(0, 212, 170, 0.05);
        }

        .ranking-item.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }

        .ranking-item.drag-over {
            border-color: var(--aurora-teal);
            transform: translateY(5px);
        }

        .ranking-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gradient-aurora);
            color: #0a0e1a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .ranking-content {
            flex: 1;
        }

        .ranking-content h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .ranking-content p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .ranking-handle {
            color: var(--text-muted);
            font-size: 1.25rem;
        }

        /* Scenario Question */
        .scenario-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .scenario-option {
            padding: 1.5rem;
            background: var(--glass-white);
            border: 2px solid var(--glass-border);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .scenario-option:hover {
            border-color: var(--aurora-teal);
            transform: translateY(-3px);
        }

        .scenario-option.selected {
            border-color: var(--aurora-teal);
            background: rgba(0, 212, 170, 0.1);
        }

        .scenario-option.selected::before {
            content: '✓';
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 24px;
            height: 24px;
            background: var(--aurora-teal);
            color: #0a0e1a;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .scenario-option {
            position: relative;
        }

        .scenario-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .scenario-option h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .scenario-option p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Scale Question */
        .scale-questions {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .scale-item {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 1.5rem;
        }

        .scale-item h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .scale-container {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .scale-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            width: 80px;
            text-align: center;
        }

        .scale-label.left {
            text-align: right;
        }

        .scale-label.right {
            text-align: left;
        }

        .scale-buttons {
            display: flex;
            gap: 0.5rem;
            flex: 1;
            justify-content: center;
        }

        .scale-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid var(--glass-border);
            background: transparent;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scale-btn:hover {
            border-color: var(--aurora-teal);
            color: var(--aurora-teal);
        }

        .scale-btn.selected {
            background: var(--aurora-teal);
            border-color: var(--aurora-teal);
            color: #0a0e1a;
        }

        /* Icon Selection */
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .icon-option {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1.5rem;
            background: var(--glass-white);
            border: 2px solid var(--glass-border);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .icon-option:hover {
            border-color: var(--aurora-teal);
            transform: scale(1.02);
        }

        .icon-option.selected {
            border-color: var(--aurora-teal);
            background: rgba(0, 212, 170, 0.1);
        }

        .icon-option.selected::after {
            content: '✓';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            width: 24px;
            height: 24px;
            background: var(--aurora-teal);
            color: #0a0e1a;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.8rem;
        }

        .icon-option i {
            font-size: 2.5rem;
        }

        .icon-option span {
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
        }

        /* Flow Activity */
        .flow-activities {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .flow-activity {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .flow-activity:hover {
            border-color: var(--glass-border);
        }

        .flow-activity-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .flow-activity-content {
            flex: 1;
        }

        .flow-activity-content h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .flow-activity-content p {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .flow-slider-container {
            width: 200px;
        }

        .flow-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--glass-white);
            -webkit-appearance: none;
            appearance: none;
            cursor: pointer;
        }

        .flow-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--aurora-teal);
            cursor: pointer;
        }

        .flow-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--aurora-teal);
            cursor: pointer;
            border: none;
        }

        .flow-value {
            text-align: center;
            font-size: 0.85rem;
            color: var(--aurora-teal);
            margin-top: 0.5rem;
            font-weight: 600;
        }

        /* Assessment Navigation */
        .assessment-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--glass-border);
        }

        .btn-large {
            padding: 1rem 2rem;
            font-size: 1rem;
        }

        /* Results Panel */
        .results-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .results-container.active {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .results-header h2 {
            font-family: 'Noto Serif SC', serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .results-header h2 .highlight {
            background: var(--gradient-aurora);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .results-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        /* Results Radar */
        .results-main {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .radar-card {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
        }

        .radar-card h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .radar-chart {
            width: 100%;
            aspect-ratio: 1;
            max-width: 350px;
            margin: 0 auto;
        }

        .radar-chart svg {
            width: 100%;
            height: 100%;
        }

        /* Profile Card */
        .profile-card {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
        }

        .profile-card h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .profile-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .profile-badge {
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .profile-badge.primary {
            background: var(--gradient-aurora);
            color: #0a0e1a;
        }

        .profile-badge.secondary {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
        }

        .profile-traits {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .trait-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .trait-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .trait-info {
            flex: 1;
        }

        .trait-info h4 {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .trait-info p {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .trait-bar {
            width: 80px;
            height: 8px;
            background: var(--glass-white);
            border-radius: 4px;
            overflow: hidden;
        }

        .trait-bar-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease;
        }

        /* Theory Results */
        .theory-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .theory-result-card {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .theory-result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .theory-result-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .theory-result-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .theory-result-icon.gallup { background: linear-gradient(135deg, #f59e0b, #fbbf24); }
        .theory-result-icon.jung { background: linear-gradient(135deg, #8b5cf6, #a78bfa); }
        .theory-result-icon.big5 { background: linear-gradient(135deg, #ef4444, #f87171); }
        .theory-result-icon.mi { background: linear-gradient(135deg, #3b82f6, #60a5fa); }
        .theory-result-icon.holland { background: linear-gradient(135deg, #10b981, #34d399); }
        .theory-result-icon.flow { background: linear-gradient(135deg, #ec4899, #f472b6); }
        .theory-result-icon.cognitive { background: linear-gradient(135deg, #06b6d4, #22d3ee); }

        .theory-result-title {
            font-size: 1rem;
            font-weight: 600;
        }

        .theory-result-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--aurora-teal);
            margin-bottom: 0.5rem;
        }

        .theory-result-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* AI Insights */
        .ai-insights {
            background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(59, 130, 246, 0.1));
            border: 1px solid var(--aurora-teal);
            border-radius: 24px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .ai-insights-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .ai-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: var(--gradient-aurora);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: #0a0e1a;
        }

        .ai-insights-header h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.25rem;
            font-weight: 600;
        }

        .ai-insights-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .insight-item {
            display: flex;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--glass-white);
            border-radius: 16px;
        }

        .insight-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--aurora-teal);
            color: #0a0e1a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .insight-text h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .insight-text p {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Career Recommendations */
        .career-section {
            background: var(--glass-white);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .career-section h3 {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .career-section h3 i {
            color: var(--aurora-teal);
        }

        .career-paths {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .career-path {
            padding: 1.5rem;
            background: var(--deep-space);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .light .career-path {
            background: white;
        }

        .career-path:hover {
            border-color: var(--aurora-teal);
            transform: translateY(-3px);
        }

        .career-path.highlighted {
            border-color: var(--aurora-teal);
            background: rgba(0, 212, 170, 0.1);
        }

        .career-path i {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--aurora-teal);
        }

        .career-path h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .career-path p {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .career-match {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--aurora-teal);
            color: #0a0e1a;
            border-radius: 50px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 0.75rem;
        }

        /* Results Actions */
        .results-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Loading Animation */
        .loading-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            text-align: center;
        }

        .loading-container.active {
            display: flex;
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 4px solid var(--glass-border);
            border-top-color: var(--aurora-teal);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 2rem;
        }

        .loading-text {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .loading-subtext {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-subtitle {
                margin-left: auto;
                margin-right: auto;
            }

            .hero-stats {
                justify-content: center;
            }

            .compass-container {
                max-width: 400px;
            }

            .results-main {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links, .nav-cta {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero {
                padding: 5rem 1.5rem 3rem;
            }

            .hero-stats {
                flex-direction: column;
                gap: 1.5rem;
                align-items: center;
            }

            .theory-planet {
                width: 45px;
                height: 45px;
            }

            .theory-planet i {
                font-size: 1rem;
            }

            .scenario-options {
                grid-template-columns: 1fr;
            }

            .icon-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .assessment-content {
                padding: 2rem 1rem;
            }

            .flow-activity {
                flex-direction: column;
                text-align: center;
            }

            .flow-slider-container {
                width: 100%;
            }

            .career-paths {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* Mobile Menu */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 14, 26, 0.98);
            backdrop-filter: blur(20px);
            z-index: 999;
            padding: 6rem 2rem 2rem;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .mobile-menu.active {
            transform: translateX(0);
        }

        .mobile-menu-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .mobile-menu .nav-links {
            flex-direction: column;
            gap: 1.5rem;
            display: flex;
        }

        .mobile-menu .nav-links a {
            font-size: 1.25rem;
        }

        .mobile-menu .nav-cta {
            flex-direction: column;
            margin-top: 2rem;
            display: flex;
        }

        /* Animate on scroll */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease-out;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="cosmic-bg"></div>
    <div class="stars" id="stars"></div>

    <!-- Navigation -->
    <nav>
        <div class="nav-content">
            <div class="logo" id="logoHome">
                <div class="logo-icon"></div>
                <span>天赋罗盘</span>
            </div>
            <ul class="nav-links">
                <li><a href="#hero">首页</a></li>
                <li><a href="#" id="navAssessment">开始测评</a></li>
            </ul>
            <div class="nav-cta">
                <button class="btn btn-ghost" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-primary" id="startBtn">开始探索</button>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <button class="mobile-menu-close" id="mobileMenuClose">
            <i class="fas fa-times"></i>
        </button>
        <ul class="nav-links">
            <li><a href="#hero">首页</a></li>
            <li><a href="#" id="mobileNavAssessment">开始测评</a></li>
        </ul>
        <div class="nav-cta">
            <button class="btn btn-primary btn-large" id="mobileStartBtn">开始探索</button>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-content">
            <div class="hero-text">
                <div class="hero-badge">
                    <i class="fas fa-atom"></i>
                    AI + 心理学深度融合
                </div>
                <h1 class="hero-title">
                    发现你的<span class="highlight">独特天赋</span><br>
                    导航你的<span class="highlight">成长路径</span>
                </h1>
                <p class="hero-subtitle">
                    基于7大科学理论组合，为您生成一本动态的、可行动的"个人潜能发展说明书"。从困惑焦虑，到被看见的笃定，获得自我掌控的成长愉悦。
                </p>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <button class="btn btn-primary btn-large" id="heroStartBtn">
                        <i class="fas fa-compass"></i> 开启潜能测评
                    </button>
                    <button class="btn btn-ghost btn-large" id="viewDemoBtn">
                        <i class="fas fa-play-circle"></i> 查看示例结果
                    </button>
                </div>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">7</div>
                        <div class="stat-label">核心科学理论</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">34+</div>
                        <div class="stat-label">才干主题识别</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">6x</div>
                        <div class="stat-label">发挥优势效率提升</div>
                    </div>
                </div>
            </div>

            <div class="compass-container">
                <div class="compass-wrapper">
                    <svg class="connection-lines" viewBox="0 0 100 100">
                        <path class="connection-line" d="M50 10 Q70 30 95 35" />
                        <path class="connection-line" d="M50 10 Q30 30 5 35" />
                        <path class="connection-line" d="M95 35 Q85 55 90 75" />
                        <path class="connection-line" d="M5 35 Q15 55 10 75" />
                        <path class="connection-line" d="M90 75 Q70 85 50 90" />
                        <path class="connection-line" d="M10 75 Q30 85 50 90" />
                    </svg>

                    <div class="compass-ring outer"></div>
                    <div class="compass-ring middle"></div>
                    <div class="compass-ring inner"></div>

                    <div class="compass-center">
                        <div class="compass-center-text">你的<br>潜能图谱</div>
                    </div>

                    <div class="theory-planet planet-gallup">
                        <i class="fas fa-star"></i>
                        <div class="planet-tooltip" style="top: 100%; left: 50%; transform: translateX(-50%);">
                            <div class="tooltip-title"><i class="fas fa-star" style="color: #f59e0b;"></i> 盖洛普优势</div>
                            <div class="tooltip-desc">34项才干主题，定义你的独特优势语言</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-jung">
                        <i class="fas fa-yin-yang"></i>
                        <div class="planet-tooltip" style="top: 0; left: 100%;">
                            <div class="tooltip-title"><i class="fas fa-yin-yang" style="color: #8b5cf6;"></i> 荣格类型</div>
                            <div class="tooltip-desc">16型人格，解析心理能量与认知方式</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-mi">
                        <i class="fas fa-brain"></i>
                        <div class="planet-tooltip" style="top: 50%; left: 100%; transform: translateY(-50%);">
                            <div class="tooltip-title"><i class="fas fa-brain" style="color: #3b82f6;"></i> 多元智能</div>
                            <div class="tooltip-desc">8大智能领域，发现被忽视的潜能</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-holland">
                        <i class="fas fa-briefcase"></i>
                        <div class="planet-tooltip" style="bottom: 100%; right: 0;">
                            <div class="tooltip-title"><i class="fas fa-briefcase" style="color: #10b981;"></i> 霍兰德代码</div>
                            <div class="tooltip-desc">RIASEC六型，连接内在与职业方向</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-flow">
                        <i class="fas fa-fire"></i>
                        <div class="planet-tooltip" style="bottom: 100%; left: 0;">
                            <div class="tooltip-title"><i class="fas fa-fire" style="color: #ec4899;"></i> 心流理论</div>
                            <div class="tooltip-desc">最佳体验状态，验证热情与投入</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-cognitive">
                        <i class="fas fa-lightbulb"></i>
                        <div class="planet-tooltip" style="top: 50%; right: 100%; transform: translateY(-50%);">
                            <div class="tooltip-title"><i class="fas fa-lightbulb" style="color: #06b6d4;"></i> 认知心理学</div>
                            <div class="tooltip-desc">解析学习风格，生成个性化策略</div>
                        </div>
                    </div>

                    <div class="theory-planet planet-big5">
                        <i class="fas fa-chart-pie"></i>
                        <div class="planet-tooltip" style="top: 0; right: 100%;">
                            <div class="tooltip-title"><i class="fas fa-chart-pie" style="color: #ef4444;"></i> 大五人格</div>
                            <div class="tooltip-desc">OCEAN五维，精准衡量特质光谱</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Assessment Panel -->
    <div class="assessment-panel" id="assessmentPanel">
        <div class="assessment-header">
            <div class="assessment-header-content">
                <button class="assessment-close" id="assessmentClose">
                    <i class="fas fa-times"></i>
                </button>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progressText">第 1 题 / 共 7 题</div>
                </div>
                <div style="width: 40px;"></div>
            </div>
        </div>

        <div class="assessment-content">
            <!-- Question 1: Gallup Strengths - Ranking -->
            <div class="question-container" id="q1">
                <div class="question-header">
                    <div class="question-theory gallup">
                        <i class="fas fa-star"></i> 盖洛普优势理论
                    </div>
                    <h2 class="question-title">请按照"最像你"到"最不像你"的顺序排列以下才干</h2>
                    <p class="question-desc">拖拽调整顺序，第1位是最符合你的才干特质</p>
                </div>
                <ul class="ranking-list" id="rankingList">
                    <li class="ranking-item" draggable="true" data-id="strategic">
                        <span class="ranking-number">1</span>
                        <div class="ranking-content">
                            <h4>战略 Strategic</h4>
                            <p>善于从混乱中找到最佳路径，能快速识别模式和规律</p>
                        </div>
                        <i class="fas fa-grip-vertical ranking-handle"></i>
                    </li>
                    <li class="ranking-item" draggable="true" data-id="achiever">
                        <span class="ranking-number">2</span>
                        <div class="ranking-content">
                            <h4>成就 Achiever</h4>
                            <p>拥有持续的内驱力，每天都需要有所成就才能满足</p>
                        </div>
                        <i class="fas fa-grip-vertical ranking-handle"></i>
                    </li>
                    <li class="ranking-item" draggable="true" data-id="learner">
                        <span class="ranking-number">3</span>
                        <div class="ranking-content">
                            <h4>学习 Learner</h4>
                            <p>热爱学习过程本身，享受从无知到精通的旅程</p>
                        </div>
                        <i class="fas fa-grip-vertical ranking-handle"></i>
                    </li>
                    <li class="ranking-item" draggable="true" data-id="relator">
                        <span class="ranking-number">4</span>
                        <div class="ranking-content">
                            <h4>关联 Relator</h4>
                            <p>善于建立深度关系，珍视与少数人的亲密友谊</p>
                        </div>
                        <i class="fas fa-grip-vertical ranking-handle"></i>
                    </li>
                    <li class="ranking-item" draggable="true" data-id="ideation">
                        <span class="ranking-number">5</span>
                        <div class="ranking-content">
                            <h4>思维 Ideation</h4>
                            <p>喜欢思考抽象概念，能在看似无关的事物间建立联系</p>
                        </div>
                        <i class="fas fa-grip-vertical ranking-handle"></i>
                    </li>
                </ul>
                <div class="assessment-nav">
                    <div></div>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(1)">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 2: Jung Type - Scenario -->
            <div class="question-container" id="q2">
                <div class="question-header">
                    <div class="question-theory jung">
                        <i class="fas fa-yin-yang"></i> 荣格心理类型
                    </div>
                    <h2 class="question-title">周末你更倾向于如何恢复精力？</h2>
                    <p class="question-desc">选择最符合你真实倾向的选项</p>
                </div>
                <div class="scenario-options">
                    <div class="scenario-option" data-value="E" onclick="selectScenario(this, 2)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                            <i class="fas fa-users" style="color: white;"></i>
                        </div>
                        <h4>社交充电型</h4>
                        <p>和朋友聚会、参加活动、认识新朋友，在人群中感到精力充沛</p>
                    </div>
                    <div class="scenario-option" data-value="I" onclick="selectScenario(this, 2)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                            <i class="fas fa-book-reader" style="color: white;"></i>
                        </div>
                        <h4>独处充电型</h4>
                        <p>安静阅读、独自思考、从事个人爱好，在独处中恢复能量</p>
                    </div>
                    <div class="scenario-option" data-value="N" onclick="selectScenario(this, 2)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                            <i class="fas fa-cloud" style="color: white;"></i>
                        </div>
                        <h4>想象漫游型</h4>
                        <p>沉浸在想象中，思考未来可能性，探索新奇的想法和概念</p>
                    </div>
                    <div class="scenario-option" data-value="S" onclick="selectScenario(this, 2)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
                            <i class="fas fa-hand-paper" style="color: white;"></i>
                        </div>
                        <h4>实践体验型</h4>
                        <p>动手做事、整理房间、烹饪美食，享受具体可感的当下体验</p>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(2)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(2)" id="q2Next" disabled>
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 3: Big Five - Scale -->
            <div class="question-container" id="q3">
                <div class="question-header">
                    <div class="question-theory big5">
                        <i class="fas fa-chart-pie"></i> 大五人格理论
                    </div>
                    <h2 class="question-title">请评估以下陈述与你的符合程度</h2>
                    <p class="question-desc">1 = 完全不符合，5 = 完全符合</p>
                </div>
                <div class="scale-questions">
                    <div class="scale-item">
                        <h4>我喜欢尝试新事物和接受新想法</h4>
                        <div class="scale-container">
                            <span class="scale-label left">完全不符合</span>
                            <div class="scale-buttons" data-dimension="openness">
                                <button class="scale-btn" data-value="1" onclick="selectScale(this)">1</button>
                                <button class="scale-btn" data-value="2" onclick="selectScale(this)">2</button>
                                <button class="scale-btn" data-value="3" onclick="selectScale(this)">3</button>
                                <button class="scale-btn" data-value="4" onclick="selectScale(this)">4</button>
                                <button class="scale-btn" data-value="5" onclick="selectScale(this)">5</button>
                            </div>
                            <span class="scale-label right">完全符合</span>
                        </div>
                    </div>
                    <div class="scale-item">
                        <h4>我做事有条理，善于规划和遵守计划</h4>
                        <div class="scale-container">
                            <span class="scale-label left">完全不符合</span>
                            <div class="scale-buttons" data-dimension="conscientiousness">
                                <button class="scale-btn" data-value="1" onclick="selectScale(this)">1</button>
                                <button class="scale-btn" data-value="2" onclick="selectScale(this)">2</button>
                                <button class="scale-btn" data-value="3" onclick="selectScale(this)">3</button>
                                <button class="scale-btn" data-value="4" onclick="selectScale(this)">4</button>
                                <button class="scale-btn" data-value="5" onclick="selectScale(this)">5</button>
                            </div>
                            <span class="scale-label right">完全符合</span>
                        </div>
                    </div>
                    <div class="scale-item">
                        <h4>在社交场合中我感到自在和有活力</h4>
                        <div class="scale-container">
                            <span class="scale-label left">完全不符合</span>
                            <div class="scale-buttons" data-dimension="extraversion">
                                <button class="scale-btn" data-value="1" onclick="selectScale(this)">1</button>
                                <button class="scale-btn" data-value="2" onclick="selectScale(this)">2</button>
                                <button class="scale-btn" data-value="3" onclick="selectScale(this)">3</button>
                                <button class="scale-btn" data-value="4" onclick="selectScale(this)">4</button>
                                <button class="scale-btn" data-value="5" onclick="selectScale(this)">5</button>
                            </div>
                            <span class="scale-label right">完全符合</span>
                        </div>
                    </div>
                    <div class="scale-item">
                        <h4>我容易理解他人的感受并愿意帮助别人</h4>
                        <div class="scale-container">
                            <span class="scale-label left">完全不符合</span>
                            <div class="scale-buttons" data-dimension="agreeableness">
                                <button class="scale-btn" data-value="1" onclick="selectScale(this)">1</button>
                                <button class="scale-btn" data-value="2" onclick="selectScale(this)">2</button>
                                <button class="scale-btn" data-value="3" onclick="selectScale(this)">3</button>
                                <button class="scale-btn" data-value="4" onclick="selectScale(this)">4</button>
                                <button class="scale-btn" data-value="5" onclick="selectScale(this)">5</button>
                            </div>
                            <span class="scale-label right">完全符合</span>
                        </div>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(3)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(3)">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 4: Multiple Intelligence - Icon Selection -->
            <div class="question-container" id="q4">
                <div class="question-header">
                    <div class="question-theory mi">
                        <i class="fas fa-brain"></i> 多元智能理论
                    </div>
                    <h2 class="question-title">选择你最擅长或最感兴趣的领域（可多选）</h2>
                    <p class="question-desc">点击选择2-3个最符合你的智能领域</p>
                </div>
                <div class="icon-grid">
                    <div class="icon-option" data-value="linguistic" onclick="toggleIcon(this)">
                        <i class="fas fa-pen-fancy" style="color: #f59e0b;"></i>
                        <span>语言智能</span>
                    </div>
                    <div class="icon-option" data-value="logical" onclick="toggleIcon(this)">
                        <i class="fas fa-calculator" style="color: #3b82f6;"></i>
                        <span>数理逻辑智能</span>
                    </div>
                    <div class="icon-option" data-value="spatial" onclick="toggleIcon(this)">
                        <i class="fas fa-cube" style="color: #8b5cf6;"></i>
                        <span>空间智能</span>
                    </div>
                    <div class="icon-option" data-value="musical" onclick="toggleIcon(this)">
                        <i class="fas fa-music" style="color: #ec4899;"></i>
                        <span>音乐智能</span>
                    </div>
                    <div class="icon-option" data-value="bodily" onclick="toggleIcon(this)">
                        <i class="fas fa-running" style="color: #10b981;"></i>
                        <span>身体运动智能</span>
                    </div>
                    <div class="icon-option" data-value="interpersonal" onclick="toggleIcon(this)">
                        <i class="fas fa-handshake" style="color: #06b6d4;"></i>
                        <span>人际智能</span>
                    </div>
                    <div class="icon-option" data-value="intrapersonal" onclick="toggleIcon(this)">
                        <i class="fas fa-brain" style="color: #ef4444;"></i>
                        <span>内省智能</span>
                    </div>
                    <div class="icon-option" data-value="naturalist" onclick="toggleIcon(this)">
                        <i class="fas fa-leaf" style="color: #84cc16;"></i>
                        <span>自然观察智能</span>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(4)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(4)">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 5: Holland Code - Icon Selection -->
            <div class="question-container" id="q5">
                <div class="question-header">
                    <div class="question-theory holland">
                        <i class="fas fa-briefcase"></i> 霍兰德职业兴趣
                    </div>
                    <h2 class="question-title">以下哪种工作环境最吸引你？（选择2个）</h2>
                    <p class="question-desc">选择你最向往的职业类型</p>
                </div>
                <div class="icon-grid">
                    <div class="icon-option" data-value="R" onclick="toggleHolland(this)">
                        <i class="fas fa-tools" style="color: #78716c;"></i>
                        <span>现实型 (R)</span>
                    </div>
                    <div class="icon-option" data-value="I" onclick="toggleHolland(this)">
                        <i class="fas fa-flask" style="color: #3b82f6;"></i>
                        <span>研究型 (I)</span>
                    </div>
                    <div class="icon-option" data-value="A" onclick="toggleHolland(this)">
                        <i class="fas fa-palette" style="color: #ec4899;"></i>
                        <span>艺术型 (A)</span>
                    </div>
                    <div class="icon-option" data-value="S" onclick="toggleHolland(this)">
                        <i class="fas fa-hands-helping" style="color: #10b981;"></i>
                        <span>社会型 (S)</span>
                    </div>
                    <div class="icon-option" data-value="E" onclick="toggleHolland(this)">
                        <i class="fas fa-chart-line" style="color: #f59e0b;"></i>
                        <span>企业型 (E)</span>
                    </div>
                    <div class="icon-option" data-value="C" onclick="toggleHolland(this)">
                        <i class="fas fa-table" style="color: #6366f1;"></i>
                        <span>常规型 (C)</span>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(5)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(5)">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 6: Flow - Activity Rating -->
            <div class="question-container" id="q6">
                <div class="question-header">
                    <div class="question-theory flow">
                        <i class="fas fa-fire"></i> 心流理论
                    </div>
                    <h2 class="question-title">以下活动中，你最容易进入"忘我"状态的是？</h2>
                    <p class="question-desc">拖动滑块表示沉浸程度（0=很少沉浸，100=经常忘我）</p>
                </div>
                <div class="flow-activities">
                    <div class="flow-activity">
                        <div class="flow-activity-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                            <i class="fas fa-code" style="color: white;"></i>
                        </div>
                        <div class="flow-activity-content">
                            <h4>编程/解决复杂问题</h4>
                            <p>沉浸在代码或逻辑挑战中</p>
                        </div>
                        <div class="flow-slider-container">
                            <input type="range" class="flow-slider" min="0" max="100" value="50" data-activity="coding" oninput="updateFlowValue(this)">
                            <div class="flow-value">50%</div>
                        </div>
                    </div>
                    <div class="flow-activity">
                        <div class="flow-activity-icon" style="background: linear-gradient(135deg, #ec4899, #f472b6);">
                            <i class="fas fa-paint-brush" style="color: white;"></i>
                        </div>
                        <div class="flow-activity-content">
                            <h4>艺术创作/设计</h4>
                            <p>绘画、设计、音乐创作等</p>
                        </div>
                        <div class="flow-slider-container">
                            <input type="range" class="flow-slider" min="0" max="100" value="50" data-activity="art" oninput="updateFlowValue(this)">
                            <div class="flow-value">50%</div>
                        </div>
                    </div>
                    <div class="flow-activity">
                        <div class="flow-activity-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
                            <i class="fas fa-dumbbell" style="color: white;"></i>
                        </div>
                        <div class="flow-activity-content">
                            <h4>运动/户外活动</h4>
                            <p>体育运动、徒步、探险等</p>
                        </div>
                        <div class="flow-slider-container">
                            <input type="range" class="flow-slider" min="0" max="100" value="50" data-activity="sports" oninput="updateFlowValue(this)">
                            <div class="flow-value">50%</div>
                        </div>
                    </div>
                    <div class="flow-activity">
                        <div class="flow-activity-icon" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                            <i class="fas fa-book" style="color: white;"></i>
                        </div>
                        <div class="flow-activity-content">
                            <h4>阅读/学习新知识</h4>
                            <p>深度阅读、研究、探索新领域</p>
                        </div>
                        <div class="flow-slider-container">
                            <input type="range" class="flow-slider" min="0" max="100" value="50" data-activity="reading" oninput="updateFlowValue(this)">
                            <div class="flow-value">50%</div>
                        </div>
                    </div>
                    <div class="flow-activity">
                        <div class="flow-activity-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                            <i class="fas fa-cube" style="color: white;"></i>
                        </div>
                        <div class="flow-activity-content">
                            <h4>搭建/制作模型</h4>
                            <p>乐高、模型、手工制作等</p>
                        </div>
                        <div class="flow-slider-container">
                            <input type="range" class="flow-slider" min="0" max="100" value="50" data-activity="building" oninput="updateFlowValue(this)">
                            <div class="flow-value">50%</div>
                        </div>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(6)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="nextQuestion(6)">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Question 7: Cognitive Style -->
            <div class="question-container" id="q7">
                <div class="question-header">
                    <div class="question-theory cognitive">
                        <i class="fas fa-lightbulb"></i> 认知心理学
                    </div>
                    <h2 class="question-title">学习新知识时，你更倾向于哪种方式？</h2>
                    <p class="question-desc">选择最符合你学习习惯的选项</p>
                </div>
                <div class="scenario-options">
                    <div class="scenario-option" data-value="visual" onclick="selectScenario(this, 7)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                            <i class="fas fa-eye" style="color: white;"></i>
                        </div>
                        <h4>视觉型学习</h4>
                        <p>通过图表、图像、视频来理解概念，喜欢用思维导图整理知识</p>
                    </div>
                    <div class="scenario-option" data-value="auditory" onclick="selectScenario(this, 7)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
                            <i class="fas fa-headphones" style="color: white;"></i>
                        </div>
                        <h4>听觉型学习</h4>
                        <p>通过听讲解、讨论来学习，喜欢用语言复述来加深记忆</p>
                    </div>
                    <div class="scenario-option" data-value="kinesthetic" onclick="selectScenario(this, 7)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                            <i class="fas fa-hands" style="color: white;"></i>
                        </div>
                        <h4>动觉型学习</h4>
                        <p>通过动手实践来学习，需要亲身体验才能真正掌握</p>
                    </div>
                    <div class="scenario-option" data-value="reading" onclick="selectScenario(this, 7)">
                        <div class="scenario-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                            <i class="fas fa-book-open" style="color: white;"></i>
                        </div>
                        <h4>阅读型学习</h4>
                        <p>通过阅读文字来学习，喜欢做笔记和写作来整理思路</p>
                    </div>
                </div>
                <div class="assessment-nav">
                    <button class="btn btn-secondary btn-large" onclick="prevQuestion(7)">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button class="btn btn-primary btn-large" onclick="submitAssessment()">
                        <i class="fas fa-check"></i> 提交测评
                    </button>
                </div>
            </div>

            <!-- Loading -->
            <div class="loading-container" id="loadingContainer">
                <div class="loading-spinner"></div>
                <div class="loading-text">AI正在分析您的潜能图谱...</div>
                <div class="loading-subtext">融合7大理论，生成个性化洞察</div>
            </div>

            <!-- Results -->
            <div class="results-container" id="resultsContainer">
                <div class="results-header">
                    <h2>🎉 您的<span class="highlight">潜能图谱</span>已生成</h2>
                    <p>基于7大科学理论的深度分析，这是属于您的独特发展蓝图</p>
                </div>

                <div class="results-main">
                    <div class="radar-card">
                        <h3><i class="fas fa-chart-radar" style="color: var(--aurora-teal);"></i> 多维潜能雷达</h3>
                        <div class="radar-chart">
                            <svg viewBox="0 0 200 200" id="radarSvg">
                                <!-- Will be generated by JS -->
                            </svg>
                        </div>
                    </div>

                    <div class="profile-card">
                        <h3><i class="fas fa-id-card" style="color: var(--aurora-teal);"></i> 核心特质画像</h3>
                        <div class="profile-badges" id="profileBadges">
                            <!-- Generated by JS -->
                        </div>
                        <div class="profile-traits" id="profileTraits">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </div>

                <div class="theory-results" id="theoryResults">
                    <!-- Generated by JS -->
                </div>

                <div class="ai-insights">
                    <div class="ai-insights-header">
                        <div class="ai-icon"><i class="fas fa-robot"></i></div>
                        <h3>AI 深度洞察</h3>
                    </div>
                    <div class="ai-insights-content" id="aiInsights">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <div class="career-section">
                    <h3><i class="fas fa-road"></i> 推荐发展路径</h3>
                    <div class="career-paths" id="careerPaths">
                        <!-- Generated by JS -->
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn btn-primary btn-large" onclick="downloadReport()">
                        <i class="fas fa-download"></i> 下载完整报告
                    </button>
                    <button class="btn btn-secondary btn-large" onclick="restartAssessment()">
                        <i class="fas fa-redo"></i> 重新测评
                    </button>
                    <button class="btn btn-ghost btn-large" onclick="closeAssessment()">
                        <i class="fas fa-home"></i> 返回首页
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Theme handling
        function initTheme() {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.remove('light');
            } else {
                document.documentElement.classList.add('light');
            }
            updateThemeIcon();
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            document.documentElement.classList.toggle('light', !event.matches);
            updateThemeIcon();
        });

        function updateThemeIcon() {
            const icon = document.querySelector('#themeToggle i');
            icon.className = document.documentElement.classList.contains('light') ? 'fas fa-sun' : 'fas fa-moon';
        }

        document.getElementById('themeToggle').addEventListener('click', () => {
            document.documentElement.classList.toggle('light');
            updateThemeIcon();
        });

        initTheme();

        // Generate stars
        function generateStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.opacity = Math.random() * 0.5 + 0.3;
                starsContainer.appendChild(star);
            }
        }
        generateStars();

        // Mobile menu
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuClose = document.getElementById('mobileMenuClose');

        mobileMenuBtn.addEventListener('click', () => mobileMenu.classList.add('active'));
        mobileMenuClose.addEventListener('click', () => mobileMenu.classList.remove('active'));

        // Assessment state
        let currentQuestion = 1;
        const totalQuestions = 7;
        const answers = {
            gallup: [],
            jung: null,
            big5: {},
            mi: [],
            holland: [],
            flow: {},
            cognitive: null
        };

        // Open assessment
        function openAssessment() {
            document.getElementById('assessmentPanel').classList.add('active');
            document.body.style.overflow = 'hidden';
            showQuestion(1);
        }

        function closeAssessment() {
            document.getElementById('assessmentPanel').classList.remove('active');
            document.body.style.overflow = '';
        }

        document.getElementById('startBtn').addEventListener('click', openAssessment);
        document.getElementById('heroStartBtn').addEventListener('click', openAssessment);
        document.getElementById('navAssessment').addEventListener('click', (e) => { e.preventDefault(); openAssessment(); });
        document.getElementById('mobileNavAssessment').addEventListener('click', (e) => { e.preventDefault(); mobileMenu.classList.remove('active'); openAssessment(); });
        document.getElementById('mobileStartBtn').addEventListener('click', () => { mobileMenu.classList.remove('active'); openAssessment(); });
        document.getElementById('assessmentClose').addEventListener('click', closeAssessment);
        document.getElementById('logoHome').addEventListener('click', closeAssessment);

        // View demo results
        document.getElementById('viewDemoBtn').addEventListener('click', () => {
            openAssessment();
            // Set demo answers
            answers.gallup = ['strategic', 'learner', 'ideation', 'achiever', 'relator'];
            answers.jung = 'I';
            answers.big5 = { openness: 5, conscientiousness: 4, extraversion: 2, agreeableness: 4 };
            answers.mi = ['logical', 'spatial', 'intrapersonal'];
            answers.holland = ['I', 'A'];
            answers.flow = { coding: 85, art: 70, sports: 40, reading: 90, building: 95 };
            answers.cognitive = 'visual';

            showLoading();
            setTimeout(showResults, 2000);
        });

        function showQuestion(num) {
            document.querySelectorAll('.question-container').forEach(q => q.classList.remove('active'));
            document.getElementById(`q${num}`).classList.add('active');
            currentQuestion = num;
            updateProgress();
        }

        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = `第 ${currentQuestion} 题 / 共 ${totalQuestions} 题`;
        }

        function nextQuestion(current) {
            if (current < totalQuestions) {
                showQuestion(current + 1);
            }
        }

        function prevQuestion(current) {
            if (current > 1) {
                showQuestion(current - 1);
            }
        }

        // Drag and drop for ranking
        const rankingList = document.getElementById('rankingList');
        let draggedItem = null;

        rankingList.addEventListener('dragstart', (e) => {
            if (e.target.classList.contains('ranking-item')) {
                draggedItem = e.target;
                e.target.classList.add('dragging');
            }
        });

        rankingList.addEventListener('dragend', (e) => {
            if (e.target.classList.contains('ranking-item')) {
                e.target.classList.remove('dragging');
                updateRankingNumbers();
            }
        });

        rankingList.addEventListener('dragover', (e) => {
            e.preventDefault();
            const afterElement = getDragAfterElement(rankingList, e.clientY);
            if (afterElement == null) {
                rankingList.appendChild(draggedItem);
            } else {
                rankingList.insertBefore(draggedItem, afterElement);
            }
        });

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.ranking-item:not(.dragging)')];
            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;
                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        function updateRankingNumbers() {
            const items = rankingList.querySelectorAll('.ranking-item');
            items.forEach((item, index) => {
                item.querySelector('.ranking-number').textContent = index + 1;
            });
            answers.gallup = [...items].map(item => item.dataset.id);
        }

        // Scenario selection
        function selectScenario(element, questionNum) {
            const parent = element.parentElement;
            parent.querySelectorAll('.scenario-option').forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');

            if (questionNum === 2) {
                answers.jung = element.dataset.value;
                document.getElementById('q2Next').disabled = false;
            } else if (questionNum === 7) {
                answers.cognitive = element.dataset.value;
            }
        }

        // Scale selection
        function selectScale(button) {
            const container = button.parentElement;
            container.querySelectorAll('.scale-btn').forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            const dimension = container.dataset.dimension;
            answers.big5[dimension] = parseInt(button.dataset.value);
        }

        // Icon toggle for MI
        function toggleIcon(element) {
            element.classList.toggle('selected');
            const value = element.dataset.value;
            if (element.classList.contains('selected')) {
                if (!answers.mi.includes(value)) answers.mi.push(value);
            } else {
                answers.mi = answers.mi.filter(v => v !== value);
            }
        }

        // Holland selection (max 2)
        function toggleHolland(element) {
            const value = element.dataset.value;
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                answers.holland = answers.holland.filter(v => v !== value);
            } else {
                if (answers.holland.length < 2) {
                    element.classList.add('selected');
                    answers.holland.push(value);
                } else {
                    showNotification('最多只能选择2个职业类型');
                }
            }
        }

        // Flow slider
        function updateFlowValue(slider) {
            const value = slider.value;
            slider.nextElementSibling.textContent = value + '%';
            answers.flow[slider.dataset.activity] = parseInt(value);
        }

        // Submit assessment
        function submitAssessment() {
            // Collect final answers
            updateRankingNumbers();

            document.querySelectorAll('.flow-slider').forEach(slider => {
                answers.flow[slider.dataset.activity] = parseInt(slider.value);
            });

            showLoading();

            // Simulate AI processing
            setTimeout(showResults, 3000);
        }

        function showLoading() {
            document.querySelectorAll('.question-container').forEach(q => q.classList.remove('active'));
            document.getElementById('loadingContainer').classList.add('active');
            document.getElementById('resultsContainer').classList.remove('active');
            document.getElementById('progressText').textContent = 'AI分析中...';
            document.getElementById('progressFill').style.width = '100%';
        }

        function showResults() {
            document.getElementById('loadingContainer').classList.remove('active');
            document.getElementById('resultsContainer').classList.add('active');
            generateResults();
        }

        function generateResults() {
            // Generate radar chart
            generateRadarChart();

            // Generate profile badges
            const badges = document.getElementById('profileBadges');
            const hollandCode = answers.holland.join('') || 'IA';
            const mbtiType = getMBTIType();
            badges.innerHTML = `
                <span class="profile-badge primary">${mbtiType}</span>
                <span class="profile-badge secondary">霍兰德 ${hollandCode}</span>
                <span class="profile-badge secondary">${getTopStrength()}</span>
            `;

            // Generate profile traits
            const traits = document.getElementById('profileTraits');
            const traitData = [
                { icon: 'fa-star', color: '#f59e0b', name: '核心才干', value: getTopStrength(), score: 92 },
                { icon: 'fa-brain', color: '#3b82f6', name: '主导智能', value: getTopIntelligence(), score: 88 },
                { icon: 'fa-fire', color: '#ec4899', name: '心流活动', value: getTopFlow(), score: 85 },
                { icon: 'fa-lightbulb', color: '#06b6d4', name: '学习风格', value: getCognitiveStyle(), score: 90 }
            ];

            traits.innerHTML = traitData.map(t => `
                <div class="trait-item">
                    <div class="trait-icon" style="background: ${t.color}20; color: ${t.color};">
                        <i class="fas ${t.icon}"></i>
                    </div>
                    <div class="trait-info">
                        <h4>${t.name}</h4>
                        <p>${t.value}</p>
                    </div>
                    <div class="trait-bar">
                        <div class="trait-bar-fill" style="width: ${t.score}%; background: ${t.color};"></div>
                    </div>
                </div>
            `).join('');

            // Generate theory results
            const theoryResults = document.getElementById('theoryResults');
            const theories = [
                { icon: 'gallup', name: '盖洛普优势', value: getTopStrength(), desc: '你的首要才干主题，发挥它能获得6倍效率提升' },
                { icon: 'jung', name: '荣格类型', value: mbtiType, desc: '你的心理能量模式和认知偏好' },
                { icon: 'big5', name: '大五人格', value: getBig5Summary(), desc: '你在五大人格维度上的特质分布' },
                { icon: 'mi', name: '多元智能', value: getTopIntelligence(), desc: '你最突出的智能领域' },
                { icon: 'holland', name: '霍兰德代码', value: hollandCode + '型', desc: '你的职业兴趣类型组合' },
                { icon: 'flow', name: '心流活动', value: getTopFlow(), desc: '最容易让你进入心流状态的活动' },
                { icon: 'cognitive', name: '认知风格', value: getCognitiveStyle(), desc: '你的最佳学习方式' }
            ];

            theoryResults.innerHTML = theories.map(t => `
                <div class="theory-result-card">
                    <div class="theory-result-header">
                        <div class="theory-result-icon ${t.icon}"><i class="fas fa-${getTheoryIcon(t.icon)}"></i></div>
                        <div class="theory-result-title">${t.name}</div>
                    </div>
                    <div class="theory-result-value">${t.value}</div>
                    <div class="theory-result-desc">${t.desc}</div>
                </div>
            `).join('');

            // Generate AI insights
            const insights = document.getElementById('aiInsights');
            const insightData = generateInsights();
            insights.innerHTML = insightData.map((insight, i) => `
                <div class="insight-item">
                    <div class="insight-number">${i + 1}</div>
                    <div class="insight-text">
                        <h4>${insight.title}</h4>
                        <p>${insight.content}</p>
                    </div>
                </div>
            `).join('');

            // Generate career paths
            const careers = document.getElementById('careerPaths');
            const careerData = generateCareers();
            careers.innerHTML = careerData.map((career, i) => `
                <div class="career-path ${i === 0 ? 'highlighted' : ''}">
                    <i class="fas fa-${career.icon}"></i>
                    <h4>${career.name}</h4>
                    <p>${career.desc}</p>
                    <span class="career-match">${career.match}% 匹配</span>
                </div>
            `).join('');
        }

        function generateRadarChart() {
            const svg = document.getElementById('radarSvg');
            const cx = 100, cy = 100, r = 70;
            const labels = ['盖洛普', '荣格', '大五', '多元智能', '霍兰德', '心流', '认知'];
            const values = [92, 85, 78, 88, 82, 90, 86];
            const n = labels.length;

            // Generate grid
            let grid = '';
            for (let level = 1; level <= 4; level++) {
                const lr = (r * level) / 4;
                let points = '';
                for (let i = 0; i < n; i++) {
                    const angle = (Math.PI * 2 * i) / n - Math.PI / 2;
                    const x = cx + lr * Math.cos(angle);
                    const y = cy + lr * Math.sin(angle);
                    points += `${x},${y} `;
                }
                grid += `<polygon points="${points}" fill="none" stroke="var(--glass-border)" stroke-width="1"/>`;
            }

            // Generate axes
            let axes = '';
            for (let i = 0; i < n; i++) {
                const angle = (Math.PI * 2 * i) / n - Math.PI / 2;
                const x = cx + r * Math.cos(angle);
                const y = cy + r * Math.sin(angle);
                axes += `<line x1="${cx}" y1="${cy}" x2="${x}" y2="${y}" stroke="var(--glass-border)" stroke-width="1"/>`;
            }

            // Generate data polygon
            let dataPoints = '';
            let dots = '';
            for (let i = 0; i < n; i++) {
                const angle = (Math.PI * 2 * i) / n - Math.PI / 2;
                const value = values[i] / 100;
                const x = cx + r * value * Math.cos(angle);
                const y = cy + r * value * Math.sin(angle);
                dataPoints += `${x},${y} `;
                dots += `<circle cx="${x}" cy="${y}" r="5" fill="var(--aurora-teal)"/>`;
            }

            // Generate labels
            let labelElements = '';
            const colors = ['#f59e0b', '#8b5cf6', '#ef4444', '#3b82f6', '#10b981', '#ec4899', '#06b6d4'];
            for (let i = 0; i < n; i++) {
                const angle = (Math.PI * 2 * i) / n - Math.PI / 2;
                const x = cx + (r + 20) * Math.cos(angle);
                const y = cy + (r + 20) * Math.sin(angle);
                labelElements += `<text x="${x}" y="${y}" text-anchor="middle" dominant-baseline="middle" fill="${colors[i]}" font-size="9" font-weight="600">${labels[i]}</text>`;
            }

            svg.innerHTML = `
                ${grid}
                ${axes}
                <polygon points="${dataPoints}" fill="rgba(0, 212, 170, 0.2)" stroke="var(--aurora-teal)" stroke-width="2"/>
                ${dots}
                ${labelElements}
            `;
        }

        function getTopStrength() {
            const strengths = { strategic: '战略', achiever: '成就', learner: '学习', relator: '关联', ideation: '思维' };
            return strengths[answers.gallup[0]] || '战略';
        }

        function getMBTIType() {
            const types = { E: 'E', I: 'I', N: 'N', S: 'S' };
            const e_i = types[answers.jung] || 'I';
            const openness = answers.big5.openness || 4;
            const n_s = openness >= 4 ? 'N' : 'S';
            const agreeableness = answers.big5.agreeableness || 3;
            const t_f = agreeableness >= 4 ? 'F' : 'T';
            const conscientiousness = answers.big5.conscientiousness || 3;
            const j_p = conscientiousness >= 4 ? 'J' : 'P';
            return `${e_i}${n_s}${t_f}${j_p}`;
        }

        function getTopIntelligence() {
            const intelligences = {
                linguistic: '语言智能', logical: '逻辑智能', spatial: '空间智能',
                musical: '音乐智能', bodily: '身体运动智能', interpersonal: '人际智能',
                intrapersonal: '内省智能', naturalist: '自然观察智能'
            };
            return intelligences[answers.mi[0]] || '逻辑智能';
        }

        function getTopFlow() {
            const activities = { coding: '编程/解题', art: '艺术创作', sports: '运动', reading: '阅读学习', building: '搭建模型' };
            const sorted = Object.entries(answers.flow).sort((a, b) => b[1] - a[1]);
            return activities[sorted[0]?.[0]] || '搭建模型';
        }

        function getCognitiveStyle() {
            const styles = { visual: '视觉型', auditory: '听觉型', kinesthetic: '动觉型', reading: '阅读型' };
            return styles[answers.cognitive] || '视觉型';
        }

        function getBig5Summary() {
            const o = answers.big5.openness || 4;
            const c = answers.big5.conscientiousness || 4;
            if (o >= 4 && c >= 4) return '高开放·高尽责';
            if (o >= 4) return '高开放性';
            if (c >= 4) return '高尽责性';
            return '均衡型';
        }

        function getTheoryIcon(theory) {
            const icons = { gallup: 'star', jung: 'yin-yang', big5: 'chart-pie', mi: 'brain', holland: 'briefcase', flow: 'fire', cognitive: 'lightbulb' };
            return icons[theory] || 'circle';
        }

        function generateInsights() {
            const strength = getTopStrength();
            const intelligence = getTopIntelligence();
            const hollandCode = answers.holland.join('') || 'IA';

            return [
                {
                    title: `"${strength}"才干 × ${intelligence} = 独特优势组合`,
                    content: `你的${strength}才干与${intelligence}形成了强大的协同效应。这意味着你在需要${strength === '战略' ? '规划全局和识别模式' : '持续投入和达成目标'}的同时运用${intelligence.replace('智能', '')}能力的领域会表现出色。`
                },
                {
                    title: `霍兰德${hollandCode}型的职业启示`,
                    content: `你的${hollandCode}型组合表明你适合需要${hollandCode.includes('I') ? '深入研究和分析' : ''}${hollandCode.includes('A') ? '创意表达和设计' : ''}${hollandCode.includes('R') ? '动手实践和技术' : ''}的工作环境。建议探索将这些元素结合的职业方向。`
                },
                {
                    title: `心流验证：${getTopFlow()}是你的热情所在`,
                    content: `数据显示你在${getTopFlow()}活动中最容易进入心流状态。这不仅说明你擅长，更重要的是你真正热爱这个领域。建议将更多时间投入相关活动，这将带来持续的成就感和成长动力。`
                }
            ];
        }

        function generateCareers() {
            const hollandCode = answers.holland.join('') || 'IA';
            const careerMap = {
                'IA': [
                    { icon: 'building', name: '建筑设计师', desc: '融合研究与艺术', match: 95 },
                    { icon: 'flask', name: '科学研究员', desc: '探索未知领域', match: 88 },
                    { icon: 'laptop-code', name: 'UX设计师', desc: '用户体验研究', match: 85 },
                    { icon: 'globe', name: '地理信息分析', desc: '空间数据专家', match: 82 }
                ],
                'IR': [
                    { icon: 'cogs', name: '工程师', desc: '技术与创新', match: 92 },
                    { icon: 'robot', name: 'AI研究员', desc: '人工智能研发', match: 90 },
                    { icon: 'chart-bar', name: '数据科学家', desc: '数据洞察专家', match: 87 },
                    { icon: 'microscope', name: '实验室研究员', desc: '科学探索', match: 84 }
                ]
            };

            return careerMap[hollandCode] || careerMap['IA'];
        }

        function restartAssessment() {
            // Reset answers
            Object.keys(answers).forEach(key => {
                if (Array.isArray(answers[key])) answers[key] = [];
                else if (typeof answers[key] === 'object') answers[key] = {};
                else answers[key] = null;
            });

            // Reset UI
            document.querySelectorAll('.selected').forEach(el => el.classList.remove('selected'));
            document.querySelectorAll('.scale-btn').forEach(btn => btn.classList.remove('selected'));
            document.querySelectorAll('.flow-slider').forEach(slider => {
                slider.value = 50;
                slider.nextElementSibling.textContent = '50%';
            });
            document.getElementById('q2Next').disabled = true;

            document.getElementById('resultsContainer').classList.remove('active');
            document.getElementById('loadingContainer').classList.remove('active');
            showQuestion(1);
        }

        function downloadReport() {
            showNotification('完整PDF报告将发送至您的邮箱');
        }

        // Notification
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: var(--aurora-teal);
                color: #0a0e1a;
                padding: 1rem 2rem;
                border-radius: 12px;
                font-weight: 600;
                z-index: 3000;
                animation: slideDown 0.3s ease;
                box-shadow: 0 10px 40px rgba(0, 212, 170, 0.4);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease forwards';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Animation styles
        const animStyles = document.createElement('style');
        animStyles.textContent = `
            @keyframes slideDown {
                from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                to { opacity: 1; transform: translateX(-50%) translateY(0); }
            }
            @keyframes fadeOut {
                from { opacity: 1; transform: translateX(-50%) translateY(0); }
                to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        document.head.appendChild(animStyles);

        // Parallax effect
        const compassContainer = document.querySelector('.compass-container');
        if (compassContainer) {
            document.addEventListener('mousemove', (e) => {
                const x = (e.clientX / window.innerWidth - 0.5) * 10;
                const y = (e.clientY / window.innerHeight - 0.5) * 10;
                compassContainer.style.transform = `perspective(1000px) rotateY(${x}deg) rotateX(${-y}deg)`;
            });
        }
    </script>
</body>
</html>
